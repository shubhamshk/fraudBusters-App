{"ast":null,"code":"// Auth API functions with automatic cookie handling\nconst API_BASE = '/api/auth';\nconst fetchWithCredentials = async (url, options = {}) => {\n  const config = {\n    credentials: 'include',\n    // Include cookies\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  };\n  const response = await fetch(url, config);\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.message || 'Request failed');\n  }\n  return data;\n};\n\n// Register new user\nexport const register = async userData => {\n  return fetchWithCredentials(`${API_BASE}/register`, {\n    method: 'POST',\n    body: JSON.stringify(userData)\n  });\n};\n\n// Login user\nexport const login = async credentials => {\n  return fetchWithCredentials(`${API_BASE}/login`, {\n    method: 'POST',\n    body: JSON.stringify(credentials)\n  });\n};\n\n// Get current user (check if logged in)\nexport const getCurrentUser = async () => {\n  return fetchWithCredentials(`${API_BASE}/me`);\n};\n\n// Logout user\nexport const logout = async () => {\n  return fetchWithCredentials(`${API_BASE}/logout`, {\n    method: 'POST'\n  });\n};\n\n// Check if user is authenticated (utility function)\nexport const isAuthenticated = async () => {\n  try {\n    await getCurrentUser();\n    return true;\n  } catch {\n    return false;\n  }\n};","map":{"version":3,"names":["API_BASE","fetchWithCredentials","url","options","config","credentials","headers","response","fetch","data","json","ok","Error","message","register","userData","method","body","JSON","stringify","login","getCurrentUser","logout","isAuthenticated"],"sources":["C:/Users/shubh/projects/file-verification-app/frontend/src/api/auth.js"],"sourcesContent":["// Auth API functions with automatic cookie handling\r\nconst API_BASE = '/api/auth';\r\n\r\nconst fetchWithCredentials = async (url, options = {}) => {\r\n  const config = {\r\n    credentials: 'include', // Include cookies\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n    },\r\n    ...options,\r\n  };\r\n\r\n  const response = await fetch(url, config);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || 'Request failed');\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\n// Register new user\r\nexport const register = async (userData) => {\r\n  return fetchWithCredentials(`${API_BASE}/register`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n  });\r\n};\r\n\r\n// Login user\r\nexport const login = async (credentials) => {\r\n  return fetchWithCredentials(`${API_BASE}/login`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(credentials),\r\n  });\r\n};\r\n\r\n// Get current user (check if logged in)\r\nexport const getCurrentUser = async () => {\r\n  return fetchWithCredentials(`${API_BASE}/me`);\r\n};\r\n\r\n// Logout user\r\nexport const logout = async () => {\r\n  return fetchWithCredentials(`${API_BASE}/logout`, {\r\n    method: 'POST',\r\n  });\r\n};\r\n\r\n// Check if user is authenticated (utility function)\r\nexport const isAuthenticated = async () => {\r\n  try {\r\n    await getCurrentUser();\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,WAAW;AAE5B,MAAMC,oBAAoB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACxD,MAAMC,MAAM,GAAG;IACbC,WAAW,EAAE,SAAS;IAAE;IACxBC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,GAAGH,OAAO,CAACG;IACb,CAAC;IACD,GAAGH;EACL,CAAC;EAED,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEE,MAAM,CAAC;EACzC,MAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAElC,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,gBAAgB,CAAC;EACnD;EAEA,OAAOJ,IAAI;AACb,CAAC;;AAED;AACA,OAAO,MAAMK,QAAQ,GAAG,MAAOC,QAAQ,IAAK;EAC1C,OAAOd,oBAAoB,CAAC,GAAGD,QAAQ,WAAW,EAAE;IAClDgB,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;EAC/B,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMK,KAAK,GAAG,MAAOf,WAAW,IAAK;EAC1C,OAAOJ,oBAAoB,CAAC,GAAGD,QAAQ,QAAQ,EAAE;IAC/CgB,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACd,WAAW;EAClC,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMgB,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,OAAOpB,oBAAoB,CAAC,GAAGD,QAAQ,KAAK,CAAC;AAC/C,CAAC;;AAED;AACA,OAAO,MAAMsB,MAAM,GAAG,MAAAA,CAAA,KAAY;EAChC,OAAOrB,oBAAoB,CAAC,GAAGD,QAAQ,SAAS,EAAE;IAChDgB,MAAM,EAAE;EACV,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMO,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACF,MAAMF,cAAc,CAAC,CAAC;IACtB,OAAO,IAAI;EACb,CAAC,CAAC,MAAM;IACN,OAAO,KAAK;EACd;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}